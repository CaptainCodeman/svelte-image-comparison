import{S as y,i as I,s as x,k as p,q as w,a as z,w as A,l as u,m as _,r as v,h as m,c as C,x as T,n as f,b as g,D as d,y as E,f as P,t as S,z as k,o as U,O as q,T as N,B as V,U as j}from"../../../chunks/index-a0e11c75.js";import{I as B}from"../../../chunks/ImageComparison-93d6bd1d.js";import{X as D}from"../../../chunks/index-7008f21d.js";import{b as $}from"../../../chunks/paths-b4419565.js";function M(c){let t,e,s,l;return{c(){t=p("canvas"),this.h()},l(n){t=u(n,"CANVAS",{slot:!0,class:!0}),_(t).forEach(m),this.h()},h(){f(t,"slot","left"),f(t,"class","svelte-135yf06")},m(n,o){g(n,t,o),s||(l=q(e=D.call(null,t,c[1])),s=!0)},p(n,o){e&&N(e.update)&&o&2&&e.update.call(null,n[1])},d(n){n&&m(t),s=!1,l()}}}function O(c){let t;return{c(){t=p("canvas"),this.h()},l(e){t=u(e,"CANVAS",{slot:!0,id:!0,class:!0}),_(t).forEach(m),this.h()},h(){f(t,"slot","right"),f(t,"id","right"),f(t,"class","svelte-135yf06")},m(e,s){g(e,t,s),c[2](t)},p:V,d(e){e&&m(t),c[2](null)}}}function X(c){let t,e,s,l,n,o,h;return o=new B({props:{class:"w-full h-[480px] mt-4",$$slots:{right:[O],left:[M]},$$scope:{ctx:c}}}),{c(){t=p("p"),e=w("Using with "),s=p("a"),l=w("svelte-pan-zoom"),n=z(),A(o.$$.fragment),this.h()},l(a){t=u(a,"P",{class:!0});var i=_(t);e=v(i,"Using with "),s=u(i,"A",{class:!0,href:!0});var r=_(s);l=v(r,"svelte-pan-zoom"),r.forEach(m),i.forEach(m),n=C(a),T(o.$$.fragment,a),this.h()},h(){f(s,"class","text-blue-700 underline"),f(s,"href","https://www.npmjs.com/package/svelte-pan-zoom"),f(t,"class","mt-2 text-gray-600")},m(a,i){g(a,t,i),d(t,e),d(t,s),d(s,l),g(a,n,i),E(o,a,i),h=!0},p(a,[i]){const r={};i&131&&(r.$$scope={dirty:i,ctx:a}),o.$set(r)},i(a){h||(P(o.$$.fragment,a),h=!0)},o(a){S(o.$$.fragment,a),h=!1},d(a){a&&m(t),a&&m(n),k(o,a)}}}function b(c){return new Promise(t=>{const e=new Image;e.onload=()=>t(e),e.src=c})}function F(c,t,e){let s,l,n,o,h={width:1920,height:1080,render:a};function a(r){n&&(r.drawImage(n,0,0),console.log(r.getTransform()),l.save(),l.resetTransform(),e(0,s.width=r.canvas.width,s),e(0,s.height=r.canvas.height,s),l.setTransform(r.getTransform()),l.drawImage(o,0,0),l.restore())}U(async()=>{[n,o]=await Promise.all([b($+"/animal-ga395c165e_1920a.webp"),b($+"/animal-ga395c165e_1920b.webp")]),l=s.getContext("2d"),e(1,h={width:n.width,height:n.height,render:a})});function i(r){j[r?"unshift":"push"](()=>{s=r,e(0,s)})}return[s,h,i]}class L extends y{constructor(t){super(),I(this,t,F,X,x,{})}}export{L as default};
